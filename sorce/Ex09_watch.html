<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script type="module">
    import { createApp ,ref , watch} from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

    const root = {
        template:`
                    <p>userName : <input v-model="userName"></p>
                    <p>Character Count : {{charCount}}</p>
                 `,
        setup(){
                  const userName= ref('');
                  const charCount= ref(0);

                  //watch(감시자 .. userName 변화를 감시 )
                  watch(userName , (newVal, oldVal)=>{
                      //로직
                      charCount.value = newVal.length;
                      console.log(`userName changed from "${oldVal}" to "${newVal}" `)
                  });


             
                  return {
                            userName,
                            charCount 
                         }
               }
    }

    const app = createApp(root);  //root App.vue 생각 ....
    app.mount("#app");
  </script>
   <script>
 
             /*
                https://www.w3schools.com/vue/vue_watchers.php

                1. watch  (감시자)
                반응형 상태 감시
                1.1 side effect  반응형의 상태  , 계산된 속성의 변화를 감지하고 그에 따른 부수효과 를 처리
                1.2 단일상태 , 다중상태 , 객체의 특정 속성등을 감시가능
                1.3 지연실행  상태 변경 후 바로 실행되지만 delay 옵션 설정
                1.4 deep watcher : 객체 내부의 속성 변화를 감지  옵션) deep 옵션 사용 ...

                
              options API
              data() {
                      xPos: 0,
                      xDiff: 0
                      },
              watch: {
                  xPos(newVal,oldVal){
                    this.xDiff = newVal-oldVal
                  }
                },
              methods: {
                  updatePos(evt) {
                    this.xPos = evt.offsetX
                  }
                }
              */
    </script>
</body>
</html>