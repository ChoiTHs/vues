<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <div id="app"></div>
  <script type="module">
    import { createApp ,ref , watch} from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

    const root = {
        template:`
                 
                 `,
        setup(){
                           
                  return {
                           
                         }
               }
    }

    const app = createApp(root);  //root App.vue 생각 ....
    app.mount("#app");
  </script>
   <script>
 
             /*
                https://www.w3schools.com/vue/vue_watchers.php

                1. watch  (감시자)
                반응형 상태 감시
                1.1 side effect  반응형의 상태  , 계산된 속성의 변화를 감지하고 그에 따른 부수효과 를 처리
                1.2 단일상태 , 다중상태 , 객체의 특정 속성등을 감시가능
                1.3 지연실행  상태 변경 후 바로 실행되지만 delay 옵션 설정
                1.4 deep watcher : 객체 내부의 속성 변화를 감지  옵션) deep 옵션 사용 ...

                
              options API
              data() {
                      xPos: 0,
                      xDiff: 0
                      },
              watch: {
                  xPos(newVal,oldVal){
                    this.xDiff = newVal-oldVal
                  }
                },
              methods: {
                  updatePos(evt) {
                    this.xPos = evt.offsetX
                  }
                }



                watch 감시자

                1. (기본문법)
                watch(source , (newval, oldval)=>{
                      //newval 새로운값
                      //oldval 기존값
                });

                2. 여러 자원(소스) 감시....
                배열 > source > []
                watch([s1, s2] , ([news1 , news2] , [olds1 , olds2])=>{})

                wathc([firstName,lastName] ....)

                3. Deep Watcher (깊은 감시)
                객체 ... > 속성 변화 > 옵션 (deep:true) 깊은 감시  (객체가 가지는 속성 변환  감시)
                watch(source , ()=>{} , {deep:true})

                ex)
                const emp = ref(
                  {
                    empno:1000,
                    name:'김유신'
                  }
                )

                watch(emp , (newval, oldval) => {

                } , {deep:true})

                4. immediate watcher (즉시실행)
                   immediate: true    값이 변경되지 않아도 설정하면 콜백함수 즉시 실행
                   watch(source , ()=>{} , {immediate:true})

                5. watchEffect : source 설정 없이 실행 (자동 추적)   
                   
                ex)
                const count = ref(0);
                wathEffect(()=>{ })


               ----------------------------------------------------------------------------
               활용법)
               const person = reactive(
                {
                    name:"김유신",
                    age:30,
                    hobby:"농구",
                    obj:{
                           count:0 
                        }               
                }
               )

               경우 : deep ..

              */
    </script>
</body>
</html>